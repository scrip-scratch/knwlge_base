[–Ω–∞–∑–∞–¥](/readme.md)

# üéØ –ü–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è **–û–¥–∏–Ω–æ—á–∫–∞ (Singleton)** –≤ TypeScript

## üî• –ß—Ç–æ —Ç–∞–∫–æ–µ Singleton?
**–û–¥–∏–Ω–æ—á–∫–∞ (Singleton)** ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω **–ø–æ—Ä–æ–∂–¥–∞—é—â–µ–≥–æ —Ç–∏–ø–∞**, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —É –∫–ª–∞—Å—Å–∞ **–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä**, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫ –Ω–µ–º—É **–≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞**.

## üéØ –¶–µ–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –û–¥–∏–Ω–æ—á–∫–∞
‚úî **–ì–∞—Ä–∞–Ω—Ç–∏—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞**.  
‚úî **–ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–æ—Å—Ç—É–ø–æ–º** –∫ —ç—Ç–æ–º—É –æ–±—ä–µ–∫—Ç—É.  
‚úî **–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞** (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏).  
‚úî **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏** (–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö).  

---

## üöÄ **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?**
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (–æ–¥–∏–Ω –ª–æ–≥–≥–µ—Ä –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ).  
- **–†–∞–±–æ—Ç–∞ —Å –∫—ç—à–æ–º** (—á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫—ç—à –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ).  
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (–µ–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç).  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î).  
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π**.  

---

## üìå **–ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Singleton –≤ TypeScript**
```typescript
class Singleton {
    private static instance: Singleton;

    private constructor() {
        console.log("–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä Singleton");
    }

    public static getInstance(): Singleton {
        if (!Singleton.instance) {
            Singleton.instance = new Singleton();
        }
        return Singleton.instance;
    }

    public showMessage(): void {
        console.log("Hello from Singleton!");
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const obj1 = Singleton.getInstance();
const obj2 = Singleton.getInstance();

console.log(obj1 === obj2); // true (–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç)

obj1.showMessage(); // Hello from Singleton!
```

### üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
1. **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `private`** ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ `new Singleton()`.  
2. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ `instance`** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä.  
3. **–ú–µ—Ç–æ–¥ `getInstance()`**:
   - –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –µ—â—ë **–Ω–µ —Å–æ–∑–¥–∞–Ω**, —Å–æ–∑–¥–∞—ë—Ç –µ–≥–æ.  
   - –ï—Å–ª–∏ —É–∂–µ **—Å—É—â–µ—Å—Ç–≤—É–µ—Ç**, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ.  

---

## üìå **–£–ª—É—á—à–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π**
–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ**.

```typescript
class Singleton {
    private static instance: Singleton | null = null;

    private constructor() {
        console.log("–°–æ–∑–¥–∞–Ω Singleton");
    }

    public static getInstance(): Singleton {
        if (this.instance === null) {
            this.instance = new Singleton();
        }
        return this.instance;
    }

    public doSomething(): void {
        console.log("–í—ã–ø–æ–ª–Ω—è–µ–º —Ä–∞–±–æ—Ç—É –≤ Singleton");
    }
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º:
const singletonA = Singleton.getInstance();
const singletonB = Singleton.getInstance();

console.log(singletonA === singletonB); // true
```

üîπ **–û—Ç–ª–∏—á–∏–µ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞**: –∑–¥–µ—Å—å `instance` –º–æ–∂–µ—Ç –±—ã—Ç—å `null`, —á—Ç–æ —á—ë—Ç–∫–æ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –≤—ã–∑–æ–≤–æ–º.

---

## üìå **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π Singleton (–¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö —Å—Ä–µ–¥)**
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä —Å Node.js), —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ **–º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –¥–≤–∞–∂–¥—ã** –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:

```typescript
class ThreadSafeSingleton {
    private static instance: ThreadSafeSingleton;
    private static lock: boolean = false;

    private constructor() {}

    public static getInstance(): ThreadSafeSingleton {
        if (!this.instance) {
            if (!this.lock) {
                this.lock = true; // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–æ—Ç–æ–∫
                this.instance = new ThreadSafeSingleton();
            }
        }
        return this.instance;
    }

    public show(): void {
        console.log("–Ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä!");
    }
}
```
### üî• **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
- –î–æ–±–∞–≤–∏–ª–∏ —Ñ–ª–∞–≥ `lock`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç **–¥–≤–æ–π–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** –æ–±—ä–µ–∫—Ç–∞.  
- –¢–µ–ø–µ—Ä—å Singleton **–±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥—ã**.  

---

## üìå **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Singleton –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ**
### **1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Logger)**
```typescript
class Logger {
    private static instance: Logger;
    private logs: string[] = [];

    private constructor() {}

    public static getInstance(): Logger {
        if (!Logger.instance) {
            Logger.instance = new Logger();
        }
        return Logger.instance;
    }

    public log(message: string): void {
        this.logs.push(message);
        console.log(`–õ–æ–≥: ${message}`);
    }

    public showLogs(): void {
        console.log(this.logs);
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const logger1 = Logger.getInstance();
logger1.log("–ü–µ—Ä–≤—ã–π –ª–æ–≥");

const logger2 = Logger.getInstance();
logger2.log("–í—Ç–æ—Ä–æ–π –ª–æ–≥");

console.log(logger1 === logger2); // true
logger2.showLogs(); // ['–ü–µ—Ä–≤—ã–π –ª–æ–≥', '–í—Ç–æ—Ä–æ–π –ª–æ–≥']
```
**üìå –ó–¥–µ—Å—å –æ–¥–∏–Ω Logger —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –ª–æ–≥–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω Singleton.**

---

### **2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```typescript
class Config {
    private static instance: Config;
    private settings: { [key: string]: string } = {};

    private constructor() {}

    public static getInstance(): Config {
        if (!Config.instance) {
            Config.instance = new Config();
        }
        return Config.instance;
    }

    public set(key: string, value: string): void {
        this.settings[key] = value;
    }

    public get(key: string): string | undefined {
        return this.settings[key];
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const config = Config.getInstance();
config.set("theme", "dark");

const anotherConfig = Config.getInstance();
console.log(anotherConfig.get("theme")); // dark
```
**üìå –û–±–∞ –æ–±—ä–µ–∫—Ç–∞ `config` –∏ `anotherConfig` ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä!**

---

## ‚úÖ **–ü–ª—é—Å—ã –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –û–¥–∏–Ω–æ—á–∫–∞**
‚úî **–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä**.  
‚úî **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É**.  
‚úî **–≠–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞).  
‚úî **–£–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫—ç—à, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).  

---

## ‚ùå **–ú–∏–Ω—É—Å—ã –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –û–¥–∏–Ω–æ—á–∫–∞**
‚ùå **–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö** ‚Äî Singleton **–º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**, –∑–∞—Ç—Ä—É–¥–Ω—è—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.  
‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é** ‚Äî –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–∞—Ö (Java, C#) –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø.  
‚ùå **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º** ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Singleton –≤–µ–∑–¥–µ, –∫–æ–¥ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –º–µ–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.  

---

## üéØ **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Singleton?**
‚úÖ –ï—Å–ª–∏ –Ω—É–∂–Ω–æ **–µ–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫—ç—à, –ª–æ–≥–≥–µ—Ä).  
‚úÖ –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç **–¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö).  
‚úÖ –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è **–≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞**.  

---

## üöÄ **–í—ã–≤–æ–¥**
**–û–¥–∏–Ω–æ—á–∫–∞** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω—É–∂–Ω–æ **—Å —É–º–æ–º**.  
–û–Ω –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏**, –Ω–æ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –∏–º –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º –≤ –∫–æ–¥–µ.  

üí° **–ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ, –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –æ–¥–∏–Ω-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ —Å–∏—Å—Ç–µ–º–µ!** üöÄ  
