# üïµÔ∏è‚Äç‚ôÇÔ∏è **–ü–∞—Ç—Ç–µ—Ä–Ω "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å" (Proxy) –≤ TypeScript**  

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ç—Ç–µ—Ä–Ω "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å" (Proxy)?**  

**"–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å" (Proxy)** ‚Äî —ç—Ç–æ **—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω**, –∫–æ—Ç–æ—Ä—ã–π **—Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç-–∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥—Ä—É–≥–æ–º—É –æ–±—ä–µ–∫—Ç—É.  

üìå **–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è:**  
- –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã **–Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–æ–º**, –º—ã —Å–æ–∑–¥–∞—ë–º **–ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç**, –∫–æ—Ç–æ—Ä—ã–π **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø**.  
- –ü—Ä–æ–∫—Å–∏ **–º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É.  
- –û–Ω **–ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é**.  

---

## üî• **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å"?**  

‚úÖ **–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).  
‚úÖ **–ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç "—Ç—è–∂—ë–ª—ã–π"** –∏ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –∑–∞–≥—Ä—É–∂–∞—Ç—å –µ–≥–æ, –ø–æ–∫–∞ –æ–Ω –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è (–ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è).  
‚úÖ **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å —Å–∏—Å—Ç–µ–º—É).  
‚úÖ **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤–µ—Å—Ç–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–¥—Å—á—ë—Ç –≤—ã–∑–æ–≤–æ–≤**.  

---

## üö® **–ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—è"**  

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–ª–∞—Å—Å **"–°–µ–∫—Ä–µ—Ç–Ω—ã–π–î–æ–∫—É–º–µ–Ω—Ç"**, –∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–Ω **–≥—Ä—É–∑–∏—Ç –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö**.  

```typescript
class SecretDocument {
    private content: string;

    constructor() {
        console.log("üìÑ –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç...");
        this.content = "–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!";
    }

    read(): string {
        return this.content;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const doc = new SecretDocument(); // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å—Ä–∞–∑—É
console.log(doc.read());
```

üìå **–ü—Ä–æ–±–ª–µ–º–∞**: –î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **—Å—Ä–∞–∑—É**, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**!  

---

## ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å" –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏**  

### **1Ô∏è‚É£ –°–æ–∑–¥–∞—ë–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**  

```typescript
interface IDocument {
    read(): string;
}
```

---

### **2Ô∏è‚É£ –°–æ–∑–¥–∞—ë–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å**  

```typescript
class SecretDocument implements IDocument {
    private content: string;

    constructor() {
        console.log("üìÑ –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç...");
        this.content = "–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!";
    }

    read(): string {
        return this.content;
    }
}
```

---

### **3Ô∏è‚É£ –°–æ–∑–¥–∞—ë–º –ø—Ä–æ–∫—Å–∏-–∫–ª–∞—Å—Å (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)**  

```typescript
class DocumentProxy implements IDocument {
    private realDocument: SecretDocument | null = null;

    read(): string {
        if (!this.realDocument) {
            this.realDocument = new SecretDocument(); // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ
        }
        return this.realDocument.read();
    }
}
```

---

### **4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏ –≤–º–µ—Å—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞**  

```typescript
const doc = new DocumentProxy(); // –î–æ–∫—É–º–µ–Ω—Ç –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
console.log("–î–æ–∫—É–º–µ–Ω—Ç –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω...");
console.log(doc.read()); // –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–µ–π—á–∞—Å!
console.log(doc.read()); // –î–∞–ª—å—à–µ —É–∂–µ –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ
```

### üñ• **–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å**  

```
–î–æ–∫—É–º–µ–Ω—Ç –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω...
üìÑ –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç...
–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
```

üìå **–¢–µ–ø–µ—Ä—å –¥–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ `read()`!**  

---

## üöÄ **–î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—è"**  

### **1Ô∏è‚É£ –ü—Ä–æ–∫—Å–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**  

–ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å **–±–∞–Ω–∫**, –∏ –º—ã —Ö–æ—Ç–∏–º –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å **–¥–æ—Å—Ç—É–ø –∫ —Å—á–µ—Ç—É** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–∞—Ä–æ–ª—å).  

```typescript
interface IBankAccount {
    withdraw(amount: number): void;
}
```

---

### **–û–±—ã—á–Ω—ã–π –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á—ë—Ç**  

```typescript
class BankAccount implements IBankAccount {
    private balance: number = 1000;

    withdraw(amount: number): void {
        if (this.balance >= amount) {
            this.balance -= amount;
            console.log(`üí∞ –°–Ω—è—Ç–æ: ${amount}$. –û—Å—Ç–∞—Ç–æ–∫: ${this.balance}$`);
        } else {
            console.log("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");
        }
    }
}
```

---

### **–ü—Ä–æ–∫—Å–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã (–Ω—É–∂–µ–Ω –ø–∞—Ä–æ–ª—å)**  

```typescript
class BankAccountProxy implements IBankAccount {
    private realAccount: BankAccount;
    private password: string;

    constructor(password: string) {
        this.realAccount = new BankAccount();
        this.password = password;
    }

    withdraw(amount: number): void {
        if (!this.authenticate()) {
            console.log("üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω! –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å.");
            return;
        }
        this.realAccount.withdraw(amount);
    }

    private authenticate(): boolean {
        const enteredPassword = prompt("–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: ");
        return enteredPassword === this.password;
    }
}
```

---

### **–ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏**  

```typescript
const account = new BankAccountProxy("1234");
account.withdraw(100); // –ó–∞–ø—Ä–æ—Å–∏—Ç –ø–∞—Ä–æ–ª—å –ø–µ—Ä–µ–¥ —Å–Ω—è—Ç–∏–µ–º
```

üìå **–¢–µ–ø–µ—Ä—å –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ —Å–Ω—è—Ç—å –¥–µ–Ω—å–≥–∏ ‚Äì –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å!**  

---

### **2Ô∏è‚É£ –ü—Ä–æ–∫—Å–∏ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö**  

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å **API, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**.  
–ú—ã **–Ω–µ —Ö–æ—Ç–∏–º –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ**, –µ—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –±—ã–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω—ã.  

```typescript
interface IUserService {
    getUser(id: number): string;
}
```

---

### **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (–±–µ–∑ –∫—ç—à–∞)**  

```typescript
class UserService implements IUserService {
    getUser(id: number): string {
        console.log(`üì° –ó–∞–ø—Ä–æ—Å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${id}...`);
        return `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${id}`;
    }
}
```

---

### **–ü—Ä–æ–∫—Å–∏ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º**  

```typescript
class UserServiceProxy implements IUserService {
    private realService: UserService;
    private cache: Map<number, string>;

    constructor() {
        this.realService = new UserService();
        this.cache = new Map();
    }

    getUser(id: number): string {
        if (this.cache.has(id)) {
            console.log(`‚úÖ –ö—ç—à: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${id}`);
            return this.cache.get(id)!;
        }

        const user = this.realService.getUser(id);
        this.cache.set(id, user);
        return user;
    }
}
```

---

### **–ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∫—Å–∏**  

```typescript
const userService = new UserServiceProxy();

console.log(userService.getUser(1)); // –ü–µ—Ä–≤—ã–π —Ä–∞–∑ –∑–∞–≥—Ä—É–∑–∏—Ç –∏–∑ –±–∞–∑—ã
console.log(userService.getUser(1)); // –¢–µ–ø–µ—Ä—å –∏–∑ –∫—ç—à–∞!
console.log(userService.getUser(2)); // –ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
console.log(userService.getUser(2)); // –ò–∑ –∫—ç—à–∞
```

### üñ• **–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å**  

```
üì° –ó–∞–ø—Ä–æ—Å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1...
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1
‚úÖ –ö—ç—à: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1
üì° –ó–∞–ø—Ä–æ—Å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 2...
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2
‚úÖ –ö—ç—à: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 2
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2
```

üìå **–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –æ–Ω–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫—ç—à–∞, –∞ –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ!**  

---

## üé¨ **–í—ã–≤–æ–¥**  

‚úÖ **"–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å" ‚Äì —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–∏—Ç "–ø–µ—Ä–µ–¥" –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø**.  
‚úÖ **–ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö**.  
‚úÖ **–ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏**.  

üî• **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
- **–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** (–æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞).  
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** (—á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –±–∞–∑—É).  
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–æ–≤).  
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (–∑–∞–ø–∏—Å—ã–≤–∞–µ–º, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è).  
