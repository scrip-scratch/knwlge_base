# üé≠ **–ü–∞—Ç—Ç–µ—Ä–Ω "–°–æ—Å—Ç–æ—è–Ω–∏–µ" (State) –≤ TypeScript**  

## üéØ **–ß—Ç–æ —Ç–∞–∫–æ–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" (State)?**  

**"–°–æ—Å—Ç–æ—è–Ω–∏–µ"** ‚Äî —ç—Ç–æ **–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**.  

üìå **–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è:**  
- –û–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ **—Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö** –∏ –º–µ–Ω—è—Ç—å —Å–≤–æ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏**.  
- –í–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ `if-else` –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞, —Å–æ–∑–¥–∞—é—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**.  
- –£–±–∏—Ä–∞–µ—Ç **–∂—ë—Å—Ç–∫—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–æ–º –∏ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.  

---

## üî• **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–°–æ—Å—Ç–æ—è–Ω–∏–µ"?**  

‚úÖ **–û–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö** –∏ –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ —Å–µ–±—è **–ø–æ-—Ä–∞–∑–Ω–æ–º—É**.  
‚úÖ **–í –∫–æ–¥–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ `if-else` –∏–ª–∏ `switch-case`, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**.  
‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏—è —á–∞—Å—Ç–æ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏**, –∏ –≤–∞–∂–Ω–æ –∏—Ö **–æ—Ç–¥–µ–ª–∏—Ç—å –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏**.  

---

## üö® **–ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ "–°–æ—Å—Ç–æ—è–Ω–∏—è"**  

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å **–±–∞–Ω–∫–æ–º–∞—Ç**.  
–û–Ω –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ **—Ç—Ä—ë—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö**:  
1Ô∏è‚É£ **–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ** (–æ–∂–∏–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã).  
2Ô∏è‚É£ **–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** (–∏–¥—ë—Ç —Å–Ω—è—Ç–∏–µ –¥–µ–Ω–µ–≥).  
3Ô∏è‚É£ **–ù–µ—Ç –¥–µ–Ω–µ–≥** (–±–∞–Ω–∫–æ–º–∞—Ç –ø—É—Å—Ç).  

‚ùå **–ë–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:**  

```typescript
class ATM {
    private state: string = "ready";

    insertCard(): void {
        if (this.state === "ready") {
            console.log("–ö–∞—Ä—Ç–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é.");
            this.state = "processing";
        } else {
            console.log("–û—à–∏–±–∫–∞: –±–∞–Ω–∫–æ–º–∞—Ç –Ω–µ –≥–æ—Ç–æ–≤.");
        }
    }

    withdraw(amount: number): void {
        if (this.state === "processing") {
            console.log(`–í—ã–¥–∞–Ω–æ ${amount} —Ä—É–±–ª–µ–π.`);
            this.state = "noMoney";
        } else {
            console.log("–û—à–∏–±–∫–∞: –Ω–µ–ª—å–∑—è —Å–Ω—è—Ç—å –¥–µ–Ω—å–≥–∏.");
        }
    }
}
```

üìå **–ü—Ä–æ–±–ª–µ–º–∞:**  
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ `"ready"`, `"processing"`, `"noMoney"`, —á—Ç–æ **–ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫**.  
- –õ–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π **–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞**.  
- –ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è **–Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**, –ø—Ä–∏–¥—ë—Ç—Å—è **–¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ `if-else`**, —á—Ç–æ —É—Å–ª–æ–∂–Ω–∏—Ç –∫–æ–¥.  

---

## ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º "–°–æ—Å—Ç–æ—è–Ω–∏–µ" (State)**  

–†–∞–∑–æ–±—å—ë–º –∫–æ–¥ –Ω–∞ —Ç—Ä–∏ —á–∞—Å—Ç–∏:  
1Ô∏è‚É£ **–ö–æ–Ω—Ç–µ–∫—Å—Ç (Context)** ‚Äì –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.  
2Ô∏è‚É£ **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è (State)** ‚Äì –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.  
3Ô∏è‚É£ **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (Concrete States)** ‚Äì –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.  

---

### **1Ô∏è‚É£ –°–æ–∑–¥–∞—ë–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è**  

```typescript
interface ATMState {
    insertCard(): void;
    withdraw(amount: number): void;
}
```

üìå **–≠—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.**  

---

### **2Ô∏è‚É£ –†–µ–∞–ª–∏–∑—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è**  

#### **–°–æ—Å—Ç–æ—è–Ω–∏–µ "–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ"**  

```typescript
class ReadyState implements ATMState {
    constructor(private atm: ATM) {}

    insertCard(): void {
        console.log("–ö–∞—Ä—Ç–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é.");
        this.atm.setState(this.atm.getProcessingState());
    }

    withdraw(amount: number): void {
        console.log("–û—à–∏–±–∫–∞: –≤—Å—Ç–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—É —Å–Ω–∞—á–∞–ª–∞.");
    }
}
```

---

#### **–°–æ—Å—Ç–æ—è–Ω–∏–µ "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è"**  

```typescript
class ProcessingState implements ATMState {
    constructor(private atm: ATM) {}

    insertCard(): void {
        console.log("–û—à–∏–±–∫–∞: –æ–ø–µ—Ä–∞—Ü–∏—è —É–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.");
    }

    withdraw(amount: number): void {
        console.log(`–í—ã–¥–∞–Ω–æ ${amount} —Ä—É–±–ª–µ–π.`);
        this.atm.setState(this.atm.getNoMoneyState());
    }
}
```

---

#### **–°–æ—Å—Ç–æ—è–Ω–∏–µ "–ù–µ—Ç –¥–µ–Ω–µ–≥"**  

```typescript
class NoMoneyState implements ATMState {
    constructor(private atm: ATM) {}

    insertCard(): void {
        console.log("–û—à–∏–±–∫–∞: –±–∞–Ω–∫–æ–º–∞—Ç –ø—É—Å—Ç.");
    }

    withdraw(amount: number): void {
        console.log("–û—à–∏–±–∫–∞: –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ –Ω–µ—Ç –¥–µ–Ω–µ–≥.");
    }
}
```

---

### **3Ô∏è‚É£ –°–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å –±–∞–Ω–∫–æ–º–∞—Ç–∞ (–ö–æ–Ω—Ç–µ–∫—Å—Ç)**  

```typescript
class ATM {
    private readyState: ATMState;
    private processingState: ATMState;
    private noMoneyState: ATMState;

    private currentState: ATMState;

    constructor() {
        this.readyState = new ReadyState(this);
        this.processingState = new ProcessingState(this);
        this.noMoneyState = new NoMoneyState(this);

        this.currentState = this.readyState;
    }

    setState(state: ATMState): void {
        this.currentState = state;
    }

    getReadyState(): ATMState {
        return this.readyState;
    }

    getProcessingState(): ATMState {
        return this.processingState;
    }

    getNoMoneyState(): ATMState {
        return this.noMoneyState;
    }

    insertCard(): void {
        this.currentState.insertCard();
    }

    withdraw(amount: number): void {
        this.currentState.withdraw(amount);
    }
}
```

üìå **–¢–µ–ø–µ—Ä—å –±–∞–Ω–∫–æ–º–∞—Ç —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º!**  

---

### **4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–µ–º "–°–æ—Å—Ç–æ—è–Ω–∏–µ"**  

```typescript
const atm = new ATM();

atm.insertCard(); // –ö–∞—Ä—Ç–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é.
atm.withdraw(5000); // –í—ã–¥–∞–Ω–æ 5000 —Ä—É–±–ª–µ–π.

atm.insertCard(); // –û—à–∏–±–∫–∞: –±–∞–Ω–∫–æ–º–∞—Ç –ø—É—Å—Ç.
atm.withdraw(2000); // –û—à–∏–±–∫–∞: –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ –Ω–µ—Ç –¥–µ–Ω–µ–≥.
```

---

## üñ• **–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å**  

```
–ö–∞—Ä—Ç–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é.
–í—ã–¥–∞–Ω–æ 5000 —Ä—É–±–ª–µ–π.
–û—à–∏–±–∫–∞: –±–∞–Ω–∫–æ–º–∞—Ç –ø—É—Å—Ç.
–û—à–∏–±–∫–∞: –≤ –±–∞–Ω–∫–æ–º–∞—Ç–µ –Ω–µ—Ç –¥–µ–Ω–µ–≥.
```

üìå **–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º, –∏ –∫–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å!**  

---

## üöÄ **–î—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "–°–æ—Å—Ç–æ—è–Ω–∏—è"**  

### **1Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç —Å –Ω–∞–ø–∏—Ç–∫–∞–º–∏**  
–£ –∞–≤—Ç–æ–º–∞—Ç–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è: **"–û–∂–∏–¥–∞–Ω–∏–µ –¥–µ–Ω–µ–≥"**, **"–í—ã–±–æ—Ä –Ω–∞–ø–∏—Ç–∫–∞"**, **"–í—ã–¥–∞—á–∞ –Ω–∞–ø–∏—Ç–∫–∞"**, **"–ù–µ—Ç —Ç–æ–≤–∞—Ä–∞"**.  

### **2Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –≤ –∏–≥—Ä–µ**  
–ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ **—Ä–µ–∂–∏–º–µ –∞—Ç–∞–∫–∏**, **—Ä–µ–∂–∏–º–µ –∑–∞—â–∏—Ç—ã** –∏–ª–∏ **—Ä–µ–∂–∏–º–µ –æ—Ç–¥—ã—Ö–∞**.  

### **3Ô∏è‚É£ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–∫–∞–∑–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ**  
–ó–∞–∫–∞–∑ –º–æ–∂–µ—Ç –±—ã—Ç—å **"–ù–æ–≤—ã–π"**, **"–í –æ–±—Ä–∞–±–æ—Ç–∫–µ"**, **"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"**, **"–î–æ—Å—Ç–∞–≤–ª–µ–Ω"**, **"–û—Ç–º–µ–Ω—ë–Ω"**.  

---

## üîÅ **–ì–¥–µ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å "–°–æ—Å—Ç–æ—è–Ω–∏–µ"?**  

‚úÖ **–ë–∞–Ω–∫–æ–º–∞—Ç—ã** ‚Äì —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–±–æ—Ç—ã.  
‚úÖ **–ò–≥—Ä—ã** ‚Äì —Ä–∞–∑–Ω—ã–µ —Ä–µ–∂–∏–º—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–∞—Ç–∞–∫–∞, –∑–∞—â–∏—Ç–∞, –æ—Ç–¥—ã—Ö).  
‚úÖ **–û–Ω–ª–∞–π–Ω-–∑–∞–∫–∞–∑—ã** ‚Äì —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ (–Ω–æ–≤—ã–π, –æ–±—Ä–∞–±–æ—Ç–∞–Ω, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω).  
‚úÖ **–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã** ‚Äì —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, workflow-—Å–∏—Å—Ç–µ–º—ã.  

---

## üé¨ **–í—ã–≤–æ–¥**  

‚úÖ **–ü–∞—Ç—Ç–µ—Ä–Ω "–°–æ—Å—Ç–æ—è–Ω–∏–µ" –ø–æ–º–æ–≥–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ª–æ–∂–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö.**  
‚úÖ **–£–±–∏—Ä–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ `if-else` –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º.**  
‚úÖ **–ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞.**  

üöÄ **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
- –ë–∞–Ω–∫–æ–º–∞—Ç—ã, –∞–≤—Ç–æ–º–∞—Ç—ã —Å –Ω–∞–ø–∏—Ç–∫–∞–º–∏, –∏–≥—Ä—ã, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—ã.  
